# CHANGELOG_AGENTS.md

This file tracks all significant changes made by AI agents to the codebase.

## LOG ENTRIES:

- **[2026-01-31] [QA Agent]:** Systematic Testing - Full App Audit (Second Pass)
  - **Changes:** No code files modified. Testing and analysis only.
  - **Why:** Performed systematic code review and runtime testing of all pages (/, /about, /contact, /login, /dashboard, /profile, /not-found, /shared/[token]). Verified all navigation links, theme toggle, header/footer rendering, button colors, toast theme-matching, and note card dark mode colors. Key findings: (1) CSS animation classes fade-in/slide-in-up/scale-in used in About and Contact pages are never defined in any CSS file; (2) primary-600 (#0284c7 sky blue) used on About/Contact/404/Shared buttons is visually inconsistent with indigo-600 (#4f39f6) used on Home/Header/Dashboard/Login; (3) note-* colors in tailwind.config.ts are unused dead config. All custom Tailwind colors compile correctly. No duplicate headers. Login page correctly hides Header/Footer. Theme toggle works. Toast reads dark class at creation time.
  - **Status:** COMPLETED

- **[2026-01-31] [QA Agent]:** Comprehensive Application Testing - Bug Report
  - **Changes:** No code files modified. Testing and analysis only.
  - **Why:** Performed systematic testing of all pages (/, /about, /contact, /login, /dashboard, /profile, /not-found), navigation links, theme toggle, forms, and interactive elements. Identified 5 critical bugs, 5 major bugs, and 4 minor issues. Key findings: (1) Tailwind v4 ignoring tailwind.config.ts causing all custom colors (primary-*, dark-card, dark-border, note-*) to be missing from compiled CSS; (2) Duplicate Header rendering on every page due to layout.tsx AND individual pages both rendering Header; (3) Backend 401 errors return FastAPI default format instead of app format; (4) Toast notifications always use dark theme even in light mode; (5) Multiple dead links on contact page.
  - **Status:** COMPLETED

- **[2026-01-31] [Frontend Agent]:** Add Light/Dark Theme Toggle to Header
  - **Changes:**
    - Modified `/home/thunder/code/notes-app/frontend/components/Header.tsx`
  - **Why:**
    - Added theme toggle button to Header component for both desktop and mobile views
    - Imported `toggleTheme` function from `@/lib/theme`
    - Desktop: Sun/moon icon button positioned before mobile hamburger menu
    - Mobile: Full-width button with icon + text label in mobile dropdown menu
    - Button calls `toggleTheme()` and updates local theme state on click
    - Shows sun icon when in dark mode (to switch to light), moon icon when in light mode (to switch to dark)
    - Styling: `p-2 rounded-lg text-zinc-600 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition`
    - Added title attributes for accessibility
  - **Status:** COMPLETED

- **[2026-01-31] [Frontend Agent]:** Add Dual-Theme Support to Dashboard Page
  - **Changes:**
    - Modified `/home/thunder/code/notes-app/frontend/app/dashboard/page.tsx`
  - **Why:**
    - Converted dashboard from dark-only glassmorphism to support both light and dark themes
    - **Background glow effects:** Reduced opacity in light mode (`opacity-20 dark:opacity-100`)
    - **Welcome section:** `text-zinc-900 dark:text-white` for heading, `text-zinc-600 dark:text-white/60` for subtitle
    - **Task stats cards:** Added light mode base styles (`bg-white`, `border-zinc-200`, `text-zinc-900`, colored stat badges with `text-yellow-600 dark:text-yellow-300`, etc.)
    - **Tabs bar:** Active tab `bg-indigo-100 text-indigo-700 dark:bg-white/20 dark:text-white`, inactive `text-zinc-500 dark:text-white/60`
    - **Search input:** `bg-white dark:bg-white/10`, `border-zinc-200 dark:border-white/20`, `text-zinc-900 dark:text-white`, `placeholder-zinc-400 dark:placeholder-white/40`
    - **Loading spinner:** `border-zinc-200 dark:border-white/20`
    - **Empty states:** Light mode icon background `bg-white dark:bg-white/10`, text colors updated
    - **DeleteDialog:** `bg-white/95 dark:bg-slate-900/95`, all text and border colors dual-themed
    - **NoteCard:**
      - Added `style={{ backgroundColor: note.background_color }}` to preserve pastel colors
      - Text colors: `text-zinc-800 dark:text-white` (fixes invisible white text on light pastels)
      - Input/textarea placeholders: `placeholder-zinc-500 dark:placeholder-gray-500`
      - Icons: `text-zinc-600 dark:text-gray-700`
      - Hover states: `hover:bg-black/10 dark:hover:bg-white/10`
      - Color picker background: `bg-white/90 dark:bg-slate-900/90`
      - Footer border: `border-zinc-300 dark:border-gray-800/20`
      - Cancel button: `bg-zinc-200 dark:bg-white/10 text-zinc-900 dark:text-white`
    - **TaskCard:**
      - Card background: `bg-white dark:bg-white/10`
      - Borders: `border-zinc-200 dark:border-white/20`
      - Checkbox border: `border-zinc-300 dark:border-white/40`
      - Title/description text: `text-zinc-900 dark:text-white`, `text-zinc-700 dark:text-white/80`
      - Status/Priority badges: Light mode uses `bg-yellow-100 text-yellow-700 border-yellow-200`, dark uses existing glassmorphism styles
      - Select option elements: `bg-white dark:bg-slate-900`
      - Due date badge: `bg-purple-100 text-purple-700 dark:bg-purple-500/30 dark:text-purple-200`
      - Action buttons hover: `hover:bg-zinc-100 dark:hover:bg-white/10`
      - Footer border: `border-zinc-200 dark:border-white/20`
    - **CRITICAL:** Dark mode appearance preserved EXACTLY as before - all current dark styles moved to `dark:` variants
    - **NO changes** to layout, spacing, functionality, or event handlers
  - **Status:** COMPLETED

- **[2026-01-28] [Frontend Agent]:** Fix NoteCard/TaskCard Action Button Overflow & Replace Auto-save with Explicit Save Buttons
  - **Changes:**
    - Modified `/home/thunder/code/notes-app/frontend/app/dashboard/page.tsx`
  - **Why:**
    - **Fixed Action Button Overflow Issue:**
      - Added `flex-shrink-0` class to action buttons container (div with space-x-1) in both NoteCard and TaskCard components
      - This prevents action buttons (pin, color picker, share, delete) from being compressed or overflowing when the card content is being edited
      - The title input can now shrink appropriately while action buttons maintain their size
    - **Replaced Silent Auto-save with Explicit Save Buttons (NoteCard):**
      - Removed debounced auto-save behavior that triggered on blur (users found it unreliable)
      - Added visible Save and Cancel buttons that appear when `isEditing === true`
      - Save button calls `handleSave()` immediately (no debounce) to persist title and content changes
      - Cancel button calls `handleCancel()` to discard changes and reset to original values
      - Added `useEffect` hook to reset local state (title/content) when note prop changes
      - Textarea no longer has `onBlur` handler that auto-saved
    - **Replaced Silent Auto-save with Explicit Save Buttons (TaskCard):**
      - Removed `onBlur={handleSave}` from both title input and description textarea
      - Added visible Save and Cancel buttons that appear when `isEditing === true`
      - Save button calls `handleSave()` to persist title and description changes
      - Cancel button calls `handleCancel()` to discard changes and reset to original values
      - Status and Priority dropdowns remain instant-update (using `onQuickUpdate`) as they are quick actions, not text editing
      - Added `useEffect` hook to reset local state (title/description/status) when task prop changes
    - **Button Styling:**
      - Save button: `bg-indigo-600 hover:bg-indigo-500` with white text
      - Cancel button: `bg-white/10 hover:bg-white/20` with white text
      - Both buttons use `onClick={(e) => { e.stopPropagation(); handleSave/Cancel(); }}` to prevent card click handlers from interfering
  - **Status:** COMPLETED

- **[2026-01-28] [Backend Agent]:** Fix CORS Headers on Error Responses (500 & 422)
  - **Changes:**
    - Modified `/home/thunder/code/notes-app/backend-fastapi/app/main.py`
  - **Why:**
    - Browser was blocking 500 and 422 error responses with "No 'Access-Control-Allow-Origin' header" error
    - When `general_exception_handler` and `validation_exception_handler` create `JSONResponse` directly, they bypass the FastAPI CORS middleware
    - Added explicit CORS headers (`Access-Control-Allow-Origin` and `Access-Control-Allow-Credentials`) to both exception handlers
    - Implemented origin validation: headers are only added if the request's `Origin` header matches an entry in `settings.cors_origins_list`
    - This ensures error messages from backend (e.g., database connection errors, validation failures) now reach the frontend instead of being blocked by the browser's CORS policy
    - Response body structure and status codes remain unchanged, only headers were added
  - **Status:** COMPLETED

- **[2026-01-22] [Frontend Agent]:** Delete Confirmation Dialog & Toast Dark Mode Styling
  - **Changes:**
    - Modified `/home/thunder/code/notes-app/frontend/app/dashboard/page.tsx`
    - Modified `/home/thunder/code/notes-app/frontend/lib/toast.ts`
  - **Why:**
    - **Delete Confirmation Dialog:** Replaced browser's native `confirm()` with a custom modal dialog component that provides better UX and visual consistency:
      - Added `DeleteDialog` component with proper accessibility (ARIA labels, role attributes)
      - Implemented centered modal with dark backdrop (`bg-black/60` with backdrop-blur)
      - Added Framer Motion animations for smooth entrance/exit transitions
      - Included focus trapping (prevents body scroll when open)
      - Keyboard support (ESC key to cancel)
      - Shows item title in the dialog for context
      - Two-button layout: Cancel (neutral) and Delete (destructive red styling)
      - Matches existing glassmorphism dark theme aesthetic
      - Dialog does NOT close on backdrop click (prevents accidental dismissal)
    - **Toast Dark Mode Styling:** Updated toast notifications to properly match the dark-themed UI:
      - Changed background from white to `backdrop-blur-xl bg-slate-900/95` for consistency with app theme
      - Updated border colors to use semi-transparent colored borders (`border-green-500/30`, etc.)
      - Changed text color from `text-gray-700` to `text-white` for proper contrast
      - Updated icon colors to lighter variants (`text-green-400` instead of `text-green-500`)
      - Enhanced close button hover states with `text-white/50 hover:text-white`
      - Improved shadow with `shadow-2xl` for better depth perception
      - Changed border radius from `rounded-lg` to `rounded-xl` for consistency
  - **Status:** COMPLETED

- **[2026-01-22] [Frontend Agent]:** Complete Profile Page Redesign with Cover Photo & Avatar Overlap
  - **Changes:** Modified `/home/thunder/code/notes-app/frontend/app/profile/page.tsx`
  - **Why:** Redesigned the entire profile page with a modern, professional layout featuring:
    - Cover photo banner (Facebook/LinkedIn style) with gradient fallback
    - Profile photo overlapping the cover photo with proper layering and shadow effects
    - Updated color scheme to match app aesthetic (indigo/purple gradients instead of primary colors)
    - Improved dark mode support using zinc color palette (dark:bg-slate-950, dark:bg-zinc-900, etc.)
    - Enhanced animations using Framer Motion with AnimatePresence for smooth transitions
    - Modernized form inputs with rounded-xl styling and improved focus states
    - Added icon indicators for each section and social platform-specific colored icons
    - Redesigned edit mode with sticky save/cancel buttons and backdrop blur effects
    - Created gradient stat cards showing member since date and account status
    - Improved responsive design with better mobile/desktop layouts
    - All existing functionality preserved (edit profile, form validation, API integration)
  - **Status:** COMPLETED

- **[2026-01-21] [Frontend Agent]:** Update About Page Title
  - **Changes:** Modified `/home/thunder/code/notes-app/frontend/app/about/page.tsx`
  - **Why:** Changed the main page heading from "About Us" to "About Notesflow" to properly reflect the application name and improve brand consistency across the interface.
  - **Status:** COMPLETED
